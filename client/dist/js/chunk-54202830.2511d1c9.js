(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54202830"],{"1dde":function(e,t,n){var s=n("d039"),o=n("b622"),r=n("2d00"),c=o("species");e.exports=function(e){return r>=51||!s((function(){var t=[],n=t.constructor={};return n[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2532:function(e,t,n){"use strict";var s=n("23e7"),o=n("5a34"),r=n("1d80"),c=n("ab13");s({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~String(r(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,n){var s=n("861d"),o=n("c6b6"),r=n("b622"),c=r("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[c])?!!t:"RegExp"==o(e))}},"5a34":function(e,t,n){var s=n("44e7");e.exports=function(e){if(s(e))throw TypeError("The method doesn't accept regular expressions");return e}},"65f0":function(e,t,n){var s=n("861d"),o=n("e8b5"),r=n("b622"),c=r("species");e.exports=function(e,t){var n;return o(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?s(n)&&(n=n[c],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"68a0":function(e,t,n){},8418:function(e,t,n){"use strict";var s=n("c04e"),o=n("9bf2"),r=n("5c6c");e.exports=function(e,t,n){var c=s(t);c in e?o.f(e,c,r(0,n)):e[c]=n}},a434:function(e,t,n){"use strict";var s=n("23e7"),o=n("23cb"),r=n("a691"),c=n("50c4"),a=n("7b0b"),i=n("65f0"),u=n("8418"),l=n("1dde"),d=n("ae40"),b=l("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,m=Math.min,O=9007199254740991,h="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!b||!f},{splice:function(e,t){var n,s,l,d,b,f,p=a(this),v=c(p.length),j=o(e,v),y=arguments.length;if(0===y?n=s=0:1===y?(n=0,s=v-j):(n=y-2,s=m(g(r(t),0),v-j)),v+n-s>O)throw TypeError(h);for(l=i(p,s),d=0;d<s;d++)b=j+d,b in p&&u(l,d,p[b]);if(l.length=s,n<s){for(d=j;d<v-s;d++)b=d+s,f=d+n,b in p?p[f]=p[b]:delete p[f];for(d=v;d>v-s+n;d--)delete p[d-1]}else if(n>s)for(d=v-s;d>j;d--)b=d+s-1,f=d+n-1,b in p?p[f]=p[b]:delete p[f];for(d=0;d<n;d++)p[d+j]=arguments[d+2];return p.length=v-s+n,l}})},ab13:function(e,t,n){var s=n("b622"),o=s("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[o]=!1,"/./"[e](t)}catch(s){}}return!1}},ae40:function(e,t,n){var s=n("83ab"),o=n("d039"),r=n("5135"),c=Object.defineProperty,a={},i=function(e){throw e};e.exports=function(e,t){if(r(a,e))return a[e];t||(t={});var n=[][e],u=!!r(t,"ACCESSORS")&&t.ACCESSORS,l=r(t,0)?t[0]:i,d=r(t,1)?t[1]:void 0;return a[e]=!!n&&!o((function(){if(u&&!s)return!0;var e={length:-1};u?c(e,1,{enumerable:!0,get:i}):e[1]=1,n.call(e,l,d)}))}},b727:function(e,t,n){var s=n("0366"),o=n("44ad"),r=n("7b0b"),c=n("50c4"),a=n("65f0"),i=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,d=6==e,b=7==e,f=5==e||d;return function(g,m,O,h){for(var p,v,j=r(g),y=o(j),S=s(m,O,3),k=c(y.length),w=0,x=h||a,C=t?x(g,k):n||b?x(g,0):void 0;k>w;w++)if((f||w in y)&&(p=y[w],v=S(p,w,j),e))if(t)C[w]=v;else if(v)switch(e){case 3:return!0;case 5:return p;case 6:return w;case 2:i.call(C,p)}else switch(e){case 4:return!1;case 7:i.call(C,p)}return d?-1:u||l?l:C}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},c740:function(e,t,n){"use strict";var s=n("23e7"),o=n("b727").findIndex,r=n("44d2"),c=n("ae40"),a="findIndex",i=!0,u=c(a);a in[]&&Array(1)[a]((function(){i=!1})),s({target:"Array",proto:!0,forced:i||!u},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r(a)},c93b:function(e,t,n){"use strict";n("68a0")},caad:function(e,t,n){"use strict";var s=n("23e7"),o=n("4d64").includes,r=n("44d2"),c=n("ae40"),a=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!a},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},e1b3:function(e,t,n){"use strict";n.r(t);var s=n("7a23"),o=n("cf05"),r=n.n(o),c={class:"navbar navbar-expand-lg navbar-expand-md navbar-light"},a={class:"container-fluid"},i=Object(s["g"])("img",{src:r.a,class:"img-fluid",width:"100",alt:"LOGO"},null,-1),u=Object(s["g"])("button",{class:"navbar-toggler",type:"button","data-mdb-toggle":"collapse","data-mdb-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(s["g"])("span",{class:"fas fa-bars"})],-1),l={class:"collapse navbar-collapse",id:"navbarText"},d={class:"navbar-nav me-auto mb-2 mb-lg-0"},b={class:"nav-item"},f=Object(s["f"])(" Home "),g={class:"nav-item"},m=Object(s["f"])(" About "),O={class:"nav-item"},h=Object(s["f"])(" Chat "),p={key:0,class:"nav-item"},v=Object(s["f"])(" Private chat "),j={class:"nav-item"},y=Object(s["f"])(" Conference "),S={key:0},k=Object(s["f"])(" Login "),w=Object(s["f"])(" Register "),x={key:1},C=Object(s["g"])("button",{class:"btn btn-dark m-1",type:"submit"},"Logout",-1),A={class:"container-fluid pt-3 pb-5"},E={class:"row"},I={class:"col d-flex justify-content-center"},N={class:"row"},T=Object(s["g"])("div",{class:"col-md-1 col-lg-2"},null,-1),W={key:0,class:"col col-md-10 col-lg-8"},M=Object(s["g"])("div",{class:"col-md-1 col-lg-2"},null,-1),P=Object(s["g"])("div",null,[Object(s["g"])("footer",{class:"align-items-center"},[Object(s["g"])("div",{class:"text-center"}," © 2020 Copyright: HOGS Saloon ")])],-1);function $(e,t,n,o,r,$){var _=Object(s["w"])("router-link"),J=Object(s["w"])("chatWin");return Object(s["p"])(),Object(s["d"])("div",null,[Object(s["g"])("div",null,[Object(s["g"])("nav",c,[Object(s["g"])("div",a,[Object(s["g"])(_,{class:"navbar-brand",id:"logo",to:"/"},{default:Object(s["C"])((function(){return[i]})),_:1}),u,Object(s["g"])("div",l,[Object(s["g"])("ul",d,[Object(s["g"])("li",b,[Object(s["g"])(_,{class:"nav-item btn btn-smoke m-1",to:"/"},{default:Object(s["C"])((function(){return[f]})),_:1})]),Object(s["g"])("li",g,[Object(s["g"])(_,{class:"nav-item btn btn-smoke m-1",to:"/about"},{default:Object(s["C"])((function(){return[m]})),_:1})]),Object(s["g"])("li",O,[Object(s["g"])(_,{class:"nav-item btn btn-smoke m-1",to:"/chat"},{default:Object(s["C"])((function(){return[h]})),_:1})]),!0===$.logedStatus?(Object(s["p"])(),Object(s["d"])("li",p,[Object(s["g"])(_,{class:"nav-item btn btn-smoke m-1",to:"/private"},{default:Object(s["C"])((function(){return[v]})),_:1})])):Object(s["e"])("",!0),Object(s["g"])("li",j,[Object(s["g"])(_,{class:"nav-item btn btn-smoke m-1",to:"/conference"},{default:Object(s["C"])((function(){return[y]})),_:1})])]),Object(s["g"])("div",null,[!1===$.logedStatus?(Object(s["p"])(),Object(s["d"])("div",S,[Object(s["g"])(_,{class:"btn btn-smoke m-1",to:"/login"},{default:Object(s["C"])((function(){return[k]})),_:1}),Object(s["g"])(_,{class:"btn btn-smoke m-1",to:"/register"},{default:Object(s["C"])((function(){return[w]})),_:1})])):(Object(s["p"])(),Object(s["d"])("div",x,[Object(s["g"])("form",{onSubmit:t[1]||(t[1]=Object(s["E"])((function(){return $.logout&&$.logout.apply($,arguments)}),["prevent"]))},[C],32)]))])])])])]),Object(s["g"])("div",A,[Object(s["g"])("div",E,[Object(s["g"])("div",I,[(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["v"])(e.users,(function(t,n){return Object(s["p"])(),Object(s["d"])("div",{class:"d-inline",key:n},[Object(s["g"])(_,{to:{name:"privateId",params:{id:t.username}},class:["btn my-1 mx-2",t.username===e.query?"btn-green link-smoke":"btn-smoke link-gray"]},{default:Object(s["C"])((function(){return[Object(s["f"])(Object(s["y"])(t.username),1)]})),_:2},1032,["to","class"])])})),128))])]),Object(s["g"])("div",N,[T,null!==e.wsSocket&&e.query?(Object(s["p"])(),Object(s["d"])("div",W,[Object(s["g"])(J,{username:$.logedName,wsSocket:e.wsSocket},null,8,["username","wsSocket"])])):Object(s["e"])("",!0),M])]),P])}n("c740"),n("a434"),n("d3b7");var _={class:"card mt-3"},J={class:"card-body"},L=Object(s["g"])("div",{class:"card-title"},[Object(s["g"])("h3",null,"Chat"),Object(s["g"])("hr")],-1),R={class:"card-body overflow-auto",id:"message-list"},U={class:"list-group list-group-flush"},q={key:0,class:"float-end font-weight-bold text-break text-right text-end"},G={key:1,class:"float-start text-justify text-break text-left text-start"},F={class:"font-weight-bold"},H={class:"card-footer"},z={class:"form-outline pb-3"},B=Object(s["g"])("label",{class:"form-label",for:"message"},"Message",-1);function D(e,t,n,o,r,c){return Object(s["p"])(),Object(s["d"])("div",_,[Object(s["g"])("div",J,[L,Object(s["g"])("div",R,[Object(s["g"])("ul",U,[(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["v"])(e.messages,(function(e,t){return Object(s["p"])(),Object(s["d"])("li",{class:"list-group-item",key:t},[n.username===e.from?(Object(s["p"])(),Object(s["d"])("div",q,Object(s["y"])(e.message),1)):(Object(s["p"])(),Object(s["d"])("div",G,[Object(s["g"])("span",F,Object(s["y"])(e.from)+": ",1),Object(s["f"])(" "+Object(s["y"])(e.message),1)]))])})),128))])])]),Object(s["g"])("div",H,[Object(s["g"])("form",{onSubmit:t[4]||(t[4]=Object(s["E"])((function(){}),["prevent"]))},[Object(s["g"])("div",z,[Object(s["g"])("input",{ref:"newMessage",type:"text",class:"form-control border-start border-bottom border-end",onFocusin:t[1]||(t[1]=function(e){e.target.closest("input").classList.add("border-primary")}),onFocusout:t[2]||(t[2]=function(e){e.target.closest("input").classList.remove("border-primary")}),id:"message"},null,544),B]),Object(s["g"])("button",{onClick:t[3]||(t[3]=function(){return c.send&&c.send.apply(c,arguments)}),type:"submit",class:"btn btn-green btn-block"},"Send")],32)])])}n("caad"),n("2532");var K=void 0,Q={name:"TextWindow",props:["username"],data:function(){return{WebSocket:new WebSocket("ws://192.168.1.179:4000/privateChat/"),messages:[],users:[],names:{too:"",from:""}}},mounted:function(){var e=this;this.names.from=this.logedName,this.names.too=this.$route.params.id,fetch("http://192.168.1.179:4000/getUsermessages",{method:"POST",body:JSON.stringify(this.names),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),console.log(" this si result"),e.messages=t})),this.WebSocket.onopen=function(t){console.log("Open "),e.users.push(e.logedName)},this.WebSocket.onmessage=function(t){var n=JSON.parse(t.data);if(console.log(n),n.disconected){console.log("Izbriše");for(var s=0;s<e.users.length;s+=1)e.users[s]===n.username&&e.users.splice(s,1)}else e.users.includes(n.username)||e.users.push(n.username),e.messages.push(n);console.log(e.users)},this.WebSocket.addEventListener("close",(function(){console.log("WebSocket is closed!!!")}))},methods:{send:function(e){var t=JSON.stringify({from:this.logedName,message:this.$refs.newMessage.value,to:this.names.too});this.$refs.newMessage.value="",console.log("predn senda"),this.WebSocket.send(t)},getPAram:function(){var e=this;this.names.from=this.logedName,this.names.too=this.$route.params.id,fetch("http://192.168.1.179:4000/getUsermessages",{method:"POST",body:JSON.stringify(this.names),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.messages=t,console.log(e.messages),console.log(" this si messages")}))}},computed:{logedStatus:function(){return!!localStorage.getItem("user")},logedName:function(){if(localStorage.getItem("user"))return localStorage.getItem("user");var e="Random user "+Math.floor(100*Math.random());return e},update:function(){fetch("http://192.168.1.179:4000/getUsermessages",{method:"POST",body:JSON.stringify(K.names),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),console.log(" this si result"),K.messages=e}))}},watch:{$route:"getPAram"}};n("c93b");Q.render=D;var V=Q,X=-1,Y={name:"privateChat",data:function(){return{users:[],wsSocket:null,query:"",names:{too:"",from:""}}},components:{chatWin:V},mounted:function(){var e=this;this.getPAram(),fetch("http://192.168.1.179:4000/usernames",{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log(t),console.log(" this si result"),e.users=t})),console.log(this.$route.params.id),this.wsSocket=new WebSocket("ws://192.168.1.179:4000/privateChat/"),this.wsSocket.addEventListener("open",(function(){console.log("Websocket opened from chat!!!")})),this.wsSocket.addEventListener("message",(function(t){var n=JSON.parse(t.data);if(n&&n.username&&n.frame){var s=e.users.findIndex((function(e){return e.username===n.username}));n.frame===X&&-1!==s?e.users.splice(s,1):-1===s?e.users.push(n):console.log(n)}}))},computed:{logedStatus:function(){return!!localStorage.getItem("user")},logedName:function(){if(localStorage.getItem("user"))return localStorage.getItem("user");var e="Random user "+Math.floor(100*Math.random());return e},getUsernames:function(){return["test","test","test"]}},methods:{getPAram:function(){this.query=this.$route.params.id},update:function(){this.$forceUpdate()},logout:function(){localStorage.removeItem("user"),this.$router.push("/login")}},watch:{$route:"getPAram"}};Y.render=$;t["default"]=Y},e8b5:function(e,t,n){var s=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==s(e)}}}]);
//# sourceMappingURL=chunk-54202830.2511d1c9.js.map