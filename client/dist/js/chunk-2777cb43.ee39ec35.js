(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2777cb43"],{"1dde":function(e,t,n){var c=n("d039"),r=n("b622"),o=n("2d00"),s=r("species");e.exports=function(e){return o>=51||!c((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2532:function(e,t,n){"use strict";var c=n("23e7"),r=n("5a34"),o=n("1d80"),s=n("ab13");c({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(o(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"293a":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r=n("cf05"),o=n.n(r),s={class:"navbar navbar-expand-lg navbar-expand-md navbar-light"},a={class:"container-fluid"},i=Object(c["g"])("img",{src:o.a,class:"img-fluid",width:"100",alt:"LOGO"},null,-1),l=Object(c["g"])("button",{class:"navbar-toggler",type:"button","data-mdb-toggle":"collapse","data-mdb-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(c["g"])("span",{class:"fas fa-bars"})],-1),u={class:"collapse navbar-collapse",id:"navbarText"},b={class:"navbar-nav me-auto mb-2 mb-lg-0"},d={class:"nav-item"},f=Object(c["f"])(" Home "),g={class:"nav-item"},m=Object(c["f"])(" About "),O={class:"nav-item"},v=Object(c["f"])(" Chat "),p={key:0,class:"nav-item"},j=Object(c["f"])(" Private chat "),h={class:"nav-item"},y=Object(c["f"])(" Conference "),S={class:"mb-2 mb-lg-0"},k={key:0},w=Object(c["f"])(" Login "),x=Object(c["f"])(" Register "),C={key:1},A=Object(c["g"])("button",{class:"btn btn-dark m-1",type:"submit"},"Logout",-1),I={class:"container py-5"},E={key:0,class:"row"},M=Object(c["g"])("div",{class:"col-md-2 col-lg-2"},null,-1),W={class:"col col-md-8 col-lg-8"},L=Object(c["g"])("div",{class:"col-md-2 col-lg-2"},null,-1),R={key:1},$=Object(c["g"])("div",{class:"row"},[Object(c["g"])("div",{class:"col"},[Object(c["g"])("h3",null,"Please enter Room ID to enter chat")])],-1),T={class:"row"},_=Object(c["g"])("div",{class:"col-md-4 col-lg-4"},null,-1),N={class:"col col-md-4 col-lg-4"},P={class:"form-outline my-4"},J=Object(c["g"])("label",{class:"form-label",for:"roomId"},"Room ID",-1),D=Object(c["g"])("button",{type:"submit",class:"btn btn-green btn-block"},"Login",-1),F=Object(c["g"])("div",{class:"col-md-4 col-lg-4"},null,-1),q=Object(c["g"])("div",null,[Object(c["g"])("footer",{class:"align-items-center"},[Object(c["g"])("div",{class:"text-center"}," © 2020 Copyright: HOGS Saloon ")])],-1);function G(e,t,n,r,o,G){var H=Object(c["w"])("router-link"),U=Object(c["w"])("chatWin");return Object(c["p"])(),Object(c["d"])("div",null,[Object(c["g"])("div",null,[Object(c["g"])("nav",s,[Object(c["g"])("div",a,[Object(c["g"])(H,{class:"navbar-brand",id:"logo",to:"/"},{default:Object(c["C"])((function(){return[i]})),_:1}),l,Object(c["g"])("div",u,[Object(c["g"])("ul",b,[Object(c["g"])("li",d,[Object(c["g"])(H,{class:"nav-item btn btn-smoke m-1",to:"/"},{default:Object(c["C"])((function(){return[f]})),_:1})]),Object(c["g"])("li",g,[Object(c["g"])(H,{class:"nav-item btn btn-smoke m-1",to:"/about"},{default:Object(c["C"])((function(){return[m]})),_:1})]),Object(c["g"])("li",O,[Object(c["g"])(H,{class:"nav-item btn btn-smoke m-1",to:"/chat"},{default:Object(c["C"])((function(){return[v]})),_:1})]),!0===G.logedStatus?(Object(c["p"])(),Object(c["d"])("li",p,[Object(c["g"])(H,{class:"nav-item btn btn-smoke m-1",to:"/private"},{default:Object(c["C"])((function(){return[j]})),_:1})])):Object(c["e"])("",!0),Object(c["g"])("li",h,[Object(c["g"])(H,{class:"nav-item btn btn-smoke m-1",to:"/conference"},{default:Object(c["C"])((function(){return[y]})),_:1})])]),Object(c["g"])("div",S,[!1===G.logedStatus?(Object(c["p"])(),Object(c["d"])("div",k,[Object(c["g"])(H,{class:"btn btn-smoke m-1",to:"/login"},{default:Object(c["C"])((function(){return[w]})),_:1}),Object(c["g"])(H,{class:"btn btn-smoke m-1",to:"/register"},{default:Object(c["C"])((function(){return[x]})),_:1})])):(Object(c["p"])(),Object(c["d"])("div",C,[Object(c["g"])("form",{onSubmit:t[1]||(t[1]=Object(c["E"])((function(){return G.logout&&G.logout.apply(G,arguments)}),["prevent"]))},[A],32)]))])])])])]),Object(c["g"])("div",I,[null!==e.wsSocket&&e.query?(Object(c["p"])(),Object(c["d"])("div",E,[M,Object(c["g"])("div",W,[Object(c["g"])(U,{username:G.logedName,wsSocket:e.wsSocket},null,8,["username","wsSocket"])]),L])):(Object(c["p"])(),Object(c["d"])("div",R,[$,Object(c["g"])("div",T,[_,Object(c["g"])("div",N,[Object(c["g"])("form",{onSubmit:t[5]||(t[5]=Object(c["E"])((function(){return G.roomSelect&&G.roomSelect.apply(G,arguments)}),["prevent"])),class:"form-row"},[Object(c["g"])("div",P,[Object(c["D"])(Object(c["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.room=t}),class:"form-control form-control-lg border-start border-bottom border-end",onFocusin:t[3]||(t[3]=function(e){e.target.closest("input").classList.add("border-primary")}),onFocusout:t[4]||(t[4]=function(e){e.target.closest("input").classList.remove("border-primary")}),type:"text",id:"roomId"},null,544),[[c["A"],e.room]]),J]),D],32)]),F])]))]),q])}n("c740"),n("a434");var H=n("52bc"),U=-1,z={name:"chat",data:function(){return{room:"",users:[],wsSocket:null,query:""}},components:{chatWin:H["a"]},mounted:function(){var e=this;this.getPAram(),this.wsSocket=new WebSocket("wss://hogs-salooon.herokuapp.com/chat/"),this.wsSocket.addEventListener("open",(function(){console.log("Websocket opened from chat!!!")})),this.wsSocket.addEventListener("message",(function(t){var n=JSON.parse(t.data);if(n&&n.username&&n.frame){var c=e.users.findIndex((function(e){return e.username===n.username}));n.frame===U&&-1!==c?e.users.splice(c,1):-1===c?e.users.push(n):console.log(n)}}))},computed:{logedStatus:function(){return!!localStorage.getItem("user")},logedName:function(){if(localStorage.getItem("user"))return localStorage.getItem("user");var e="Random user "+Math.floor(100*Math.random());return e}},methods:{roomSelect:function(){console.log("yes"),this.$router.push({name:"ChatId",params:{id:this.room}}),this.$forceUpdate()},getPAram:function(){this.query=this.$route.params.id},logout:function(){localStorage.removeItem("user"),this.$router.push("/login")}},watch:{$route:"getPAram"}};z.render=G;t["default"]=z},"44e7":function(e,t,n){var c=n("861d"),r=n("c6b6"),o=n("b622"),s=o("match");e.exports=function(e){var t;return c(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==r(e))}},"52bc":function(e,t,n){"use strict";var c=n("7a23"),r={class:"card"},o={class:"active-users"},s={class:"card-body"},a=Object(c["g"])("div",{class:"card-title"},[Object(c["g"])("h3",null,"Active users:")],-1),i={class:"list-group-item"},l={class:"font-weight-bold"},u={class:"card-body p-0"},b=Object(c["g"])("div",{class:"card-title"},[Object(c["g"])("h3",null,"Chat Group"),Object(c["g"])("hr")],-1),d={class:"card-body overflow-auto",id:"message-list"},f={class:"list-group list-group-flush"},g={key:0,class:"float-end font-weight-bold text-break text-right text-end"},m={key:1,class:"float-start text-justify text-break text-left text-start"},O={class:"font-weight-bold"},v={class:"card-footer"},p={class:"form-outline pb-3"},j=Object(c["g"])("label",{class:"form-label",for:"message"},"Message",-1);function h(e,t,n,h,y,S){return Object(c["p"])(),Object(c["d"])("div",r,[Object(c["g"])("div",o,[Object(c["g"])("div",s,[a,(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(e.users,(function(e,t){return Object(c["p"])(),Object(c["d"])("ul",{ref:"usersDiv",key:t,class:"list-group list-group-flush"},[Object(c["g"])("li",i,[Object(c["g"])("span",l,Object(c["y"])(e===n.username?e+" (You)":e),1)])],512)})),128))])]),Object(c["g"])("div",u,[b,Object(c["g"])("div",d,[Object(c["g"])("ul",f,[(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(e.messages,(function(e,t){return Object(c["p"])(),Object(c["d"])("li",{class:"list-group-item",key:t},[n.username===e.username?(Object(c["p"])(),Object(c["d"])("div",g,Object(c["y"])(e.message),1)):(Object(c["p"])(),Object(c["d"])("div",m,[Object(c["g"])("span",O,Object(c["y"])(e.username)+": ",1),Object(c["f"])(" "+Object(c["y"])(e.message),1)]))])})),128))])])]),Object(c["g"])("div",v,[Object(c["g"])("form",{onSubmit:t[4]||(t[4]=Object(c["E"])((function(){}),["prevent"])),class:"pb-3"},[Object(c["g"])("div",p,[Object(c["g"])("input",{ref:"newMessage",type:"text",class:"form-control border-start border-bottom border-end",onFocusin:t[1]||(t[1]=function(e){e.target.closest("input").classList.add("border-primary")}),onFocusout:t[2]||(t[2]=function(e){e.target.closest("input").classList.remove("border-primary")}),id:"message"},null,544),j]),Object(c["g"])("button",{onClick:t[3]||(t[3]=function(){return S.send&&S.send.apply(S,arguments)}),type:"submit",class:"btn btn-green btn-block"},"Send")],32)])])}n("caad"),n("a434"),n("2532");var y={name:"TextWindow",props:["username"],data:function(){return{WebSocket:new WebSocket("wss://hogs-salooon.herokuapp.com/chat/"),messages:[],users:[]}},mounted:function(){var e=this;this.WebSocket.onopen=function(t){console.log("Open "),e.users.push(e.username)},this.WebSocket.onmessage=function(t){var n=JSON.parse(t.data);if(console.log(n,"data"),n.disconected){console.log("Izbriše");for(var c=0;c<e.users.length;c+=1)e.users[c]===n.username&&e.users.splice(c,1)}else e.users.includes(n.username)||e.users.push(n.username),e.messages.push(n);console.log(e.users)},this.WebSocket.addEventListener("close",(function(){console.log("WebSocket is closed!!!")}))},methods:{send:function(e){if(""!==this.$refs.newMessage.value){var t=JSON.stringify({username:this.username,message:this.$refs.newMessage.value,group:this.$route.params.id});this.$refs.newMessage.value="",this.WebSocket.send(t)}}},computed:{logedStatus:function(){return!!localStorage.getItem("user")},logedName:function(){if(localStorage.getItem("user"))return localStorage.getItem("user");var e="Random user"+Math.floor(100*Math.random());return e}}};n("9c57");y.render=h;t["a"]=y},"5a34":function(e,t,n){var c=n("44e7");e.exports=function(e){if(c(e))throw TypeError("The method doesn't accept regular expressions");return e}},"65f0":function(e,t,n){var c=n("861d"),r=n("e8b5"),o=n("b622"),s=o("species");e.exports=function(e,t){var n;return r(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?c(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},8418:function(e,t,n){"use strict";var c=n("c04e"),r=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var s=c(t);s in e?r.f(e,s,o(0,n)):e[s]=n}},"9c57":function(e,t,n){"use strict";n("ccec")},a434:function(e,t,n){"use strict";var c=n("23e7"),r=n("23cb"),o=n("a691"),s=n("50c4"),a=n("7b0b"),i=n("65f0"),l=n("8418"),u=n("1dde"),b=n("ae40"),d=u("splice"),f=b("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,m=Math.min,O=9007199254740991,v="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!d||!f},{splice:function(e,t){var n,c,u,b,d,f,p=a(this),j=s(p.length),h=r(e,j),y=arguments.length;if(0===y?n=c=0:1===y?(n=0,c=j-h):(n=y-2,c=m(g(o(t),0),j-h)),j+n-c>O)throw TypeError(v);for(u=i(p,c),b=0;b<c;b++)d=h+b,d in p&&l(u,b,p[d]);if(u.length=c,n<c){for(b=h;b<j-c;b++)d=b+c,f=b+n,d in p?p[f]=p[d]:delete p[f];for(b=j;b>j-c+n;b--)delete p[b-1]}else if(n>c)for(b=j-c;b>h;b--)d=b+c-1,f=b+n-1,d in p?p[f]=p[d]:delete p[f];for(b=0;b<n;b++)p[b+h]=arguments[b+2];return p.length=j-c+n,u}})},ab13:function(e,t,n){var c=n("b622"),r=c("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(c){}}return!1}},ae40:function(e,t,n){var c=n("83ab"),r=n("d039"),o=n("5135"),s=Object.defineProperty,a={},i=function(e){throw e};e.exports=function(e,t){if(o(a,e))return a[e];t||(t={});var n=[][e],l=!!o(t,"ACCESSORS")&&t.ACCESSORS,u=o(t,0)?t[0]:i,b=o(t,1)?t[1]:void 0;return a[e]=!!n&&!r((function(){if(l&&!c)return!0;var e={length:-1};l?s(e,1,{enumerable:!0,get:i}):e[1]=1,n.call(e,u,b)}))}},b727:function(e,t,n){var c=n("0366"),r=n("44ad"),o=n("7b0b"),s=n("50c4"),a=n("65f0"),i=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,b=6==e,d=7==e,f=5==e||b;return function(g,m,O,v){for(var p,j,h=o(g),y=r(h),S=c(m,O,3),k=s(y.length),w=0,x=v||a,C=t?x(g,k):n||d?x(g,0):void 0;k>w;w++)if((f||w in y)&&(p=y[w],j=S(p,w,h),e))if(t)C[w]=j;else if(j)switch(e){case 3:return!0;case 5:return p;case 6:return w;case 2:i.call(C,p)}else switch(e){case 4:return!1;case 7:i.call(C,p)}return b?-1:l||u?u:C}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},c740:function(e,t,n){"use strict";var c=n("23e7"),r=n("b727").findIndex,o=n("44d2"),s=n("ae40"),a="findIndex",i=!0,l=s(a);a in[]&&Array(1)[a]((function(){i=!1})),c({target:"Array",proto:!0,forced:i||!l},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},caad:function(e,t,n){"use strict";var c=n("23e7"),r=n("4d64").includes,o=n("44d2"),s=n("ae40"),a=s("indexOf",{ACCESSORS:!0,1:0});c({target:"Array",proto:!0,forced:!a},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},ccec:function(e,t,n){},e8b5:function(e,t,n){var c=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==c(e)}}}]);
//# sourceMappingURL=chunk-2777cb43.ee39ec35.js.map